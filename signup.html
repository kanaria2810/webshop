<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC.de Registrierung</title>
    <link rel="shortcut icon" type="image/png" href="/image/png-clipart-clock-clock-cartoon-thumbnail.ico"/>

    <!--Jquery-->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>

    <!--Bootstrap-->
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

    <!--Font awesome-->
    <link rel="stylesheet" href="node_modules/@fortawesome/fontawesome-free/css/all.css">

    <script>
      //Để check xem field email có trùng không
      $(document).ready(function(){
        $('#username').keyup(check_username); //use keyup,blur, or change
        $(window).keydown(function(event){
          if( (event.keyCode == 13) ) {
            event.preventDefault();
            return false;
          }
        });
      });
      function check_username(){
        var username = $('#username').val();
        var elem = document.getElementById("warning");
          jQuery.ajax({
            type: 'POST',
            url: 'php/phpfunction/checkusername.php',
            data: 'username='+ username,
            cache: false,
            success: function(response){
                if(response != 0){
                  elem.hidden=false;
                  document.getElementById("submit").hidden = true;

                } else {
                  elem.hidden=true;
                  document.getElementById("submit").hidden = false;
                }
            }
              });
      }
    </script>

</head>
<body style="background-color: #ddd;" >
  <div class="page-header" style="margin-bottom: 4%;">
        <a href="#" class="nav justify-content-end" style="margin: 10px 30px 0px 30px;">Need help?</a>
        <div class="row col col-sm-10" style="padding-left: 50px; cursor: pointer;" onclick="window.location.href = 'php/startsite.php'">
            <h2>Armbanduhr.de </h2>
            <hr>
        </div>
        
  </div>
  <section class="login-block" style="background-color: white; display: inline;">
    <div class="container">
      <div class="row">
        <div class="col-md-6 login-sec">
          <h4 class="text-center" >Registrierung</h4>
          <form class="row g-3 needs-validation" novalidate method="POST" action="php/register.php" role="form">
            <div class="mb-3" id="ajaxform">
              <label for="exampleInputEmail1" class="form-label"><b>Email:</b> </label>
              <input type="email" class="form-control" id="username" name="username" required>
              <div class="valid-feedback">
                OK!
              </div>
              <div class="invalid-feedback">
                Bitte gültige Email eingeben.
              </div>
              <div id="warning" hidden style="color: red;">
                Email wurde von anderem Benutzer registriert!
              </div>
            </div>
            <div class="col-md-6">
              <label for="validationCustom02" class="form-label"><b>Vorname</b></label>
              <input type="text" class="form-control" id="validationCustom02" name="firstname" required>
              <div class="valid-feedback">
                OK!
              </div>
              <div class="invalid-feedback">
                Bitte gültigen Vornamen eingeben.
              </div>
            </div>
            <div class="col-md-6">
              <label for="validationCustom02" class="form-label">Nachname</label>
              <input type="text" class="form-control" id="validationCustom02" name="lastname" required>
              <div class="valid-feedback">
                OK!
              </div>
              <div class="invalid-feedback">
                Bitte gültigen Nachnamen eingeben.
              </div>
            </div>
            <div class="col-12">
              <label for="inputAddress" class="form-label"><b>Adresse:</b> </label>
              <input type="text" class="form-control" id="inputAddress" placeholder="Reutlingerstr. 123" name="address" required>
              <div class="invalid-feedback">
                Ihre Adresse eingeben.
              </div>
            </div>
            <div class="col-md-6">
              <label for="inputCity" class="form-label"><b>Stadt:</b> </label>
              <input type="text" class="form-control" id="inputCity" name="city" required>
              <div class="invalid-feedback">
                Ihre Stadt eingeben.
              </div>
            </div>
            <div class="col-md-6">
              <label for="inputZip" class="form-label"><b>PLZ:</b> </label>
              <input type="text" class="form-control" id="inputZip" name="zip" required>
              <div class="invalid-feedback">
                5-stellige Postleitzahl eingeben.
              </div>
            </div>
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="invalidCheck" required>
                <label class="form-check-label" for="invalidCheck">
                  Hiermit bestätige ich die Richtigkeit meiner persönlichen Daten und bin mit der Nutzung entsprechend den in der Datenschutzerklärung gemachten Angaben einverstanden
                </label>
                <div class="invalid-feedback">
                  Sie müssen akzeptieren, damit die Registrierung erfolgen könnte.
                </div>
              </div>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary" id="submit">Registrieren</button>
            </div>
          </form>
          <script>

                            
            //Để check xem các field có validate không
            (function () {
              'use strict'

              // Fetch all the forms we want to apply custom Bootstrap validation styles to
              var forms = document.querySelectorAll('.needs-validation');
              

              // Loop over them and prevent submission
              Array.prototype.slice.call(forms)
                .forEach(function (form) {
                  form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                      event.preventDefault()
                      event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                  }, false)
                })
            })();
          </script>
        </div>
        <div class="col-md-6 banner-sec">
          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel" >
              <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
              </div>
              <div class="carousel-inner">
                  <div class="carousel-item active">
                      <img src="image/poster1.jpg" class="d-block w-100" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                          <h5>Entdecke jetzt über 800 einzigartige Designs</h5>
                      </div>
                  </div>
                  <div class="carousel-item">
                      <img src="image/poster2.jpg" class="d-block w-100" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                          <h5>Klassisch, luxuriös, elegant...</h5>
                      </div>
                  </div>
                  <div class="carousel-item">
                      <img src="image/poster3.jpg" class="d-block w-100" alt="...">
                      <div class="carousel-caption d-none d-md-block">
                          <h5>Neue Modelle: Smartwatch für mehr als Uhrzeit</h5>
                      </div>
                  </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </section>
  
  <footer class="my-5 pt-5 text-muted text-center text-small">
    <ul class="list-inline">
        <li class="list-inline-item"><a href="#">Unsere AGB</a></li>
        <li class="list-inline-item"><a href="#">Hinweis zur Cookies</a></li>
        <li class="list-inline-item"><a href="#">Copyright</a></li>
      </ul>
    <div class="row justify-content-center">
        Mustergesellschaft GmbH MusterStraße 4, 123456 Musterstadt
    </div>
</footer>
</body>
</html>